<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics - CareerHub Admin</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="admin-dashboard.html" class="logo">CareerHub Admin</a>
            <ul class="nav-links">
                <li><a href="admin-dashboard.html">Dashboard</a></li>
                <li><a href="admin-jobs.html">Manage Jobs</a></li>
                <li><a href="admin-candidates.html">View Candidates</a></li>
                <li><a href="admin-analytics.html" class="active">Analytics</a></li>
                <li><a href="#" onclick="logout()">Logout</a></li>
            </ul>
        </div>
    </nav>

    <div class="admin-container">
        <aside class="admin-sidebar">
            <nav class="admin-nav">
                <a href="admin-dashboard.html" class="admin-nav-item">ðŸ“Š Dashboard</a>
                <a href="admin-jobs.html" class="admin-nav-item">ðŸ’¼ Manage Jobs</a>
                <a href="admin-candidates.html" class="admin-nav-item">ðŸ‘¥ View Candidates</a>
                <a href="admin-analytics.html" class="admin-nav-item active">ðŸ“ˆ Analytics</a>
            </nav>
        </aside>

        <main class="admin-main">
            <div class="dashboard-header">
                <h1>Analytics & Reports</h1>
                <p>Track your recruitment performance</p>
            </div>

            <!-- KPI Cards -->
            <div class="analytics-kpis">
                <div class="kpi-card">
                    <h4>Total Applications</h4>
                    <p class="kpi-number">487</p>
                    <small>â†‘ 12% from last month</small>
                </div>
                <div class="kpi-card">
                    <h4>Conversion Rate</h4>
                    <p class="kpi-number">24%</p>
                    <small>â†‘ 3% from last month</small>
                </div>
                <div class="kpi-card">
                    <h4>Avg. Time to Hire</h4>
                    <p class="kpi-number">18 days</p>
                    <small>â†“ 2 days from last month</small>
                </div>
                <div class="kpi-card">
                    <h4>Cost per Hire</h4>
                    <p class="kpi-number">â‚¹8,500</p>
                    <small>â†“ 10% from last month</small>
                </div>
            </div>

            <!-- Charts Section -->
            <div class="charts-grid">
                <!-- Applications Over Time -->
                <div class="chart-container">
                    <h3>Applications Over Time</h3>
                    <canvas id="applicationsChart"></canvas>
                </div>

                <!-- Application Status Distribution -->
                <div class="chart-container">
                    <h3>Application Status</h3>
                    <canvas id="statusChart"></canvas>
                </div>

                <!-- Top Positions -->
                <div class="chart-container">
                    <h3>Top Positions Applied</h3>
                    <canvas id="positionsChart"></canvas>
                </div>

                <!-- Locations -->
                <div class="chart-container">
                    <h3>Applications by Location</h3>
                    <canvas id="locationsChart"></canvas>
                </div>
            </div>

            <!-- Detailed Stats Table -->
            <section class="dashboard-section" style="margin-top: 40px;">
                <h2>Job-wise Performance</h2>
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>Job Position</th>
                            <th>Location</th>
                            <th>Posted</th>
                            <th>Applications</th>
                            <th>Interviews</th>
                            <th>Hired</th>
                            <th>Conversion %</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Senior Developer</td>
                            <td>Bangalore</td>
                            <td>Nov 5</td>
                            <td>156</td>
                            <td>24</td>
                            <td>8</td>
                            <td>5.1%</td>
                        </tr>
                        <tr>
                            <td>UI/UX Designer</td>
                            <td>Remote</td>
                            <td>Nov 8</td>
                            <td>124</td>
                            <td>18</td>
                            <td>6</td>
                            <td>4.8%</td>
                        </tr>
                        <tr>
                            <td>Product Manager</td>
                            <td>Delhi</td>
                            <td>Nov 10</td>
                            <td>98</td>
                            <td>14</td>
                            <td>4</td>
                            <td>4.1%</td>
                        </tr>
                        <tr>
                            <td>Data Analyst</td>
                            <td>Mumbai</td>
                            <td>Nov 12</td>
                            <td>87</td>
                            <td>12</td>
                            <td>3</td>
                            <td>3.4%</td>
                        </tr>
                        <tr>
                            <td>DevOps Engineer</td>
                            <td>Pune</td>
                            <td>Nov 14</td>
                            <td>22</td>
                            <td>5</td>
                            <td>1</td>
                            <td>4.5%</td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </main>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2025 CareerHub. All rights reserved.</p>
    </footer>

    <style>
        .analytics-kpis {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .kpi-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
        }

        .kpi-card h4 {
            margin: 0 0 10px 0;
            font-size: 14px;
            opacity: 0.95;
        }

        .kpi-number {
            font-size: 32px;
            font-weight: 700;
            margin: 10px 0;
        }

        .kpi-card small {
            opacity: 0.85;
            font-size: 12px;
        }

        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .chart-container {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .chart-container h3 {
            margin-top: 0;
            margin-bottom: 20px;
            color: #333;
            font-size: 18px;
        }

        .chart-container canvas {
            max-height: 300px;
        }

        @media (max-width: 768px) {
            .analytics-kpis {
                grid-template-columns: repeat(2, 1fr);
            }

            .charts-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>

    <script>
        // Applications Over Time Chart
        const ctx1 = document.getElementById('applicationsChart').getContext('2d');
        new Chart(ctx1, {
            type: 'line',
            data: {
                labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5'],
                datasets: [{
                    label: 'Applications',
                    data: [45, 62, 58, 75, 84],
                    borderColor: '#667eea',
                    backgroundColor: 'rgba(102, 126, 234, 0.1)',
                    tension: 0.4,
                    fill: true,
                    pointBackgroundColor: '#667eea',
                    pointBorderColor: '#fff',
                    pointBorderWidth: 2,
                    pointRadius: 5
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: {
                        display: true,
                        position: 'top'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        // Application Status Chart
        const ctx2 = document.getElementById('statusChart').getContext('2d');
        new Chart(ctx2, {
            type: 'doughnut',
            data: {
                labels: ['New', 'Viewed', 'Interview', 'Hired', 'Rejected'],
                datasets: [{
                    data: [124, 156, 98, 65, 44],
                    backgroundColor: [
                        '#e3f2fd',
                        '#f3e5f5',
                        '#fff3e0',
                        '#e8f5e9',
                        '#ffebee'
                    ],
                    borderColor: [
                        '#1976d2',
                        '#7b1fa2',
                        '#f57c00',
                        '#388e3c',
                        '#c62828'
                    ],
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: {
                        position: 'right'
                    }
                }
            }
        });

        // Top Positions Chart
        const ctx3 = document.getElementById('positionsChart').getContext('2d');
        new Chart(ctx3, {
            type: 'bar',
            data: {
                labels: ['Senior Dev', 'Designer', 'PM', 'Analyst', 'DevOps'],
                datasets: [{
                    label: 'Applications',
                    data: [156, 124, 98, 87, 22],
                    backgroundColor: '#667eea',
                    borderColor: '#667eea',
                    borderWidth: 1
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: {
                        display: false
                    }
                },
                scales: {
                    x: {
                        beginAtZero: true
                    }
                }
            }
        });

        // Locations Chart
        const ctx4 = document.getElementById('locationsChart').getContext('2d');
        new Chart(ctx4, {
            type: 'bar',
            data: {
                labels: ['Bangalore', 'Delhi', 'Mumbai', 'Pune', 'Remote'],
                datasets: [{
                    label: 'Applications',
                    data: [156, 124, 98, 65, 44],
                    backgroundColor: '#764ba2',
                    borderColor: '#764ba2',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: {
                        display: false
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        function logout() {
            alert('Logged out successfully');
            window.location.href = 'admin-login.html';
        }
    </script>
</body>
</html>
